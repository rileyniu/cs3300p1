<!DOCTYPE HTML>
<html>
  <body>
  <style>
    svg { border: solid #ccc 1px; }
  </style>
    <p id="p1">
      <script src="https://d3js.org/d3.v4.min.js"></script>
      <script src="https://d3js.org/topojson.v2.min.js"></script>
      <svg height="400" width="800" id="graph1"> </svg>
      <script> 
      var svg = d3.select("#graph1");
      var min = new Date(2013,3,28);
      var max = new Date(2018,1,21);
      var datescale = d3.scaleTime()
        .domain([min, max])
        .range([50, 800-50]); 
      var yscale = d3.scaleLinear()
        .domain([75, 20000])
        .range([400-50,50]);
      var yscale2 = d3.scaleLinear()
        .domain([2, 100])
        .range([400-50,50]);   
      var parseTime = d3.timeParse("%Y-%m-%d");
      var linegen = d3.line()
            .x(function(d) {return datescale(parseTime(d.date)); })
            .y(function(d) {console.log(yscale(d.close));return yscale(d.close); })
      var linegen2 = d3.line()
            .x(function(d) {return datescale(parseTime(d.week)); })
            .y(function(d) {return yscale2(d.priority); })
      d3.csv("at.csv", function(d) {
        console.log(d);
        var xAxis = d3.axisBottom(datescale);
        var yAxis = d3.axisLeft(yscale);
      svg.append("g")
        .classed('x axis', true)
        .call(xAxis)
        .attr('transform', 'translate(0, 350)');
      svg.append("g")
        .classed('y axis', true)
        .call(yAxis)
        .attr('transform', 'translate(750, 0)');
      svg.append("path")
        .attr("d", linegen(d))
        .attr("stroke","blue")
        .attr("fill","none")
        .attr("stroke-width","2px");
        });
    d3.csv("multiTimeline.csv", function(d) {
      var yAxis2 = d3.axisRight(yscale2);
        svg.append("path")
        .attr("d", linegen2(d))
        .attr("stroke","red")
        .attr("fill","none")
        .attr("stroke-width","2px");
      svg.append("g")
        .classed('y axis', true)
        .call(yAxis2)
        .attr('transform', 'translate(50, 0)');
        

    });


      </script>
    </p>
  